{% extends 'base.html' %} 
{% load static %}
{% block content %}
<div class="row">
	<h1>Inbox - All messages</h1>
	<hr>
	<table class="table table-hover">
		<thead>
			<tr class="table-secondary">
				<th scope="col">Date</th>
				<th scope="col">From</th>
				<th scope="col">Text</th>
				<th scope="col">Contact</th>
			</tr>
		</thead>
		<tbody>
			{% for message in messages %}
			<tr class="table-secondary">
				<th scope="col">{{ message.date|date:"Y-m-d H:i" }}</th>
				<td>{{ message.fromUserId.username }}</td>
				<td>{{ message.text }}</td>
				<td>
					<a href="{% url 'sendMessage' message.toUserId.id %}" class="btn btn-primary">Send message</a>
				</td>
			</tr>
			{% empty %}
			<tr class="table-secondary">
				<td colspan="4">No messages available.</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>
{% endblock %}